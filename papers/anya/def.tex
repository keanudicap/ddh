A \emph{grid} is a matrix 
of \emph{traversable} and \emph{non-traversable} \emph{tiles}.  
Formally, a grid $G$ is a $W \times H$ vector of boolean, 
where $G[x,y] = \top$ if the tile $[x,y]$ is traversable 
and $\bot$ if it is not.  
An intersection $(x,y)$ ($x \in \{0,\dots,W\}$ and $y \in \{0,\dots,H\}$) 
is the point that is common to the tiles 
$[x-1,y-1]$, $[x,y-1]$, $[x,y]$, and $[x-1,y]$, 
where the tiles outside the grid are assumed non traversable.  

A \emph{corner} is an intersection 
such that only one of its four squares is non-traversable.  
Intersection $i'$ is \emph{visible} from intersection $i$ 
iff the segment $(i,i')$ crosses only traversable tiles 
or borders non-traversable tiles and traversable tiles.  
Without loss of generality, 
we assume that if the segment $(i,i')$ crosses a corner 
(besides $i$ and $i'$), 
then intersection $i'$ is not visible from intersection $i$.  

An \emph{any-angle path} $\pi$ is a sequence $p_1,\dots,p_k$ 
of points that are visible from each other.  
The \emph{length} of path $\pi$ 
is the cumulative distance of every pair of points in the path, 
i.e., $d(p_1,p_2) + d(p_2,p_3) + \dots + d(p_{k-1},p_k)$, 
where $d((x,y),(x',y')) = \sqrt{(x-x')^2 + (y-y')^2}$ 
is the (uniform) Euclidian distance between the two points.  

A \emph{turning point} in path $\pi$ 
is defined as i) either a corner 
%or ii) the first or last point of the path 
or ii) a point $p_l$ of the path 
such that the segments $(p_{l-1},p_l)$ and $(p_l,p_{l+1})$ form an angle.  
It is easy to see that for any path $\pi$ 
that includes a non-turning point $p$ 
(besides the first and last points), 
the sequence of points $\pi \setminus p$ 
(i.e., where point $p$ has been removed from $\pi$) 
is also a path of same length as $\pi$.  
Therefore, we will only consider paths 
that are exclusively composed of turning point.  

\begin{lemm}
  Given two points $p$ and $p'$, 
  any turning point in the optimal any-angle path between $p$ and $p'$ 
  is a corner.  
\end{lemm}

\begin{proof}
{
  Assume an optimal any-angle path $\pi = (p_1,\dots,p_k)$ 
  that includes a turning point $p_l$ ($l \not\in \{0,k\}$) 
  which is not a corner.  
  We will prove that $\pi$ is suboptimal 
  which, by contradiction, will prove the lemma.  
  
  If $p_{l+1}$ is visible from $p_{l-1}$, 
  then  $\pi \setminus p_l$ is a path 
  which is strictly shorter than $\pi$.  
  Hence $\pi$ is suboptimal.  

  If $p_{l+1}$ is not visible from $p_{l-1}$, 
  then let $p'_l$ be a point from the segment $(p_l,p_{l+1})$ 
  that i) is visible from $p_{l-1}$ 
  and ii) is different from $p_l$.  
  Because $p_l$ is not a corner, 
  then such a $p'_l$ exists.  
  The subpath $(p_{l-1},p_l,p'_l,p_{l+1})$ 
  is as long as $(p_{l-1},p_l,p_{l+1})$ 
  since $p'_l$ lies between $p_l$ and $p_{l+1}$.  
  The triangle inequality, however, 
  tells us that $(p_{l-1},p'_l,p_{l+1})$ is shorter than the subpath, 
  which proves that $\pi$ is suboptimal.

  This is illustrated on Figrure~\ref{fig::corner}  
  where the point $p'_l$ is chosen 
  as close as possible from the corner $c$.  
}

\begin{figure}[ht]
  \begin{center}
    \input{tikz/corner}
  \end{center}
  \caption{Illustration that making the path turn 
  outside a corner is suboptimal: 
  the blue and green path is longer than the red and green path.}
  \label{fig::corner}
\end{figure}

\end{proof}

Note that a similar observation has been made for geodesic paths \cite{mitchell87}.  

% EOF
